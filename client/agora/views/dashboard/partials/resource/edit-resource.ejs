<div class="modal fade" id="create-resource-modal" tabindex="-1" role="dialog" aria-labelledby="create-resource-modal-label" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="create-resource-modal-label">Create a new resource:</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            
            <section>

                <h4 class="text-secondary">Edit resource</h4>

                <% if(!!locals.message){ %>
                    <div class="alert-message alert-message-warning" role="alert">
                        <h3 ><%= message %></h3>
                        <p><%= message2 %></p>
                    </div>
                <% } 
                
                if(resource) {
                    %>
                    <form action="/dashboard/resource" id='dashboardResourceForm' enctype="multipart/form-data" method="POST">
                        <div class="form-group">
                            <input type="hidden" name="resourceId" id="resourceId" value="<%- resource.id %>" />
                            <div class="row">
                                <div class="col">
                                    <!-- Image -->

                                    <div class="drop-zone">
                                        <span class="drop-zone__prompt">Drop file here or click to upload</span>
                                        <input type="file" name="resourceImageField" class="drop-zone__input" />
                                        <input type="hidden" name="resourceModified" id="resourceModified" value="false" />
                                    </div>

                                </div>
                                <div class="col">
                                    <!-- Type -->
                                    <label for="resourceType">Type</label>
                                    <select name="resourceType" id="resourceType" class="form-control form-control-lg">
                                        <%
                                        if(resource.resourceType === 1) {
                                            %>
                                            <option value="1" selected>Editor</option>
                                            <%
                                        }
                                        else {
                                            %>
                                            <option value="1">Editor</option>
                                            <%
                                        }
                                        %>
                                        <%
                                        if(resource.resourceType === 2) {
                                            %>
                                            <option value="2" selected>Link Only</option>
                                            <%
                                        }
                                        else {
                                            %>
                                            <option value="2">Link Only</option>
                                            <%
                                        }
                                        %>
                                        <%
                                        if(resource.resourceType === 3) {
                                            %>
                                            <option value="3" selected>Embed HTML (Including iFrames)</option>
                                            <%
                                        }
                                        else {
                                            %>
                                            <option value="3">Embed HTML (Including iFrames)</option>
                                            <%
                                        }
                                        %>
                                    </select>
                                </div>
                                <div class="col">
                                    <!-- Visibility -->
                                    <label for="resourceVisibility">Shared?</label>
                                    <select name="resourceVisibility" id="resourceVisibility" class="form-control form-control-lg">
                                        <%
                                        if(resource.visibility === 0) {
                                            %>
                                            <option value="0" selected>Private</option>
                                            <%
                                        }
                                        else {
                                            %>
                                            <option value="0">Private</option>
                                            <%
                                        }
                                        %>
                                        <%
                                        if(resource.visibility === 1) {
                                            %>
                                            <option value="1" selected>Shared</option>
                                            <%
                                        }
                                        else {
                                            %>
                                            <option value="1">Shared</option>
                                            <%
                                        }
                                        %>
                                        <%
                                        if(resource.visibility === 2) {
                                            %>
                                            <option value="2" selected>Public</option>
                                            <%
                                        }
                                        else {
                                            %>
                                            <option value="2">Public</option>
                                            <%
                                        }
                                        %>
                                    </select>
                                </div>
                            </div>

                            

                            Name: <input type="input" class="form-control form-control-lg" name="resourceName" value="<%- resource.resourceName %>" id="resourceName" placeholder="Name" required>
                            
                            <!-- Additional Resource metadata - Description / Requried / Active - Hidden by default -->
                            <div id="additionalResourceMetadata">
                                <fieldset class="form-group row">
                                    Desciption: <textarea class="form-control form-control-lg" name="resourceDescription" value="<%- resource.resourceDescription %>" id="resourceDescription" placeholder="Description"></textarea>
                                    Required? <input type="checkbox" class="" id="isRequired" name="isRequired" <%- (resource.isRequired)?'checked':'' %> />
                                    Active: <input type="checkbox" class="" id="resourceActive" name="resourceActive" <%- (resource.active)?'checked':'' %> />
                                </fieldset>
                            </div>

                            <textarea id="resourceEditor" name="resourceEditor"><%- resource.resourceContentHtml %></textarea>


                            Embedded HTML:
                            <textarea name="embedded_submission_text_resource" id="embedded_submission_text_resource" rows="6" cols="75" ><%- resource.resourceContentHtml %></textarea><br />
                            Resource Link: <input type="input" class="form-control form-control-lg" name="resourceLink" value="<%- resource.resourceLink %>" id="resourceLink" placeholder="Link">


                            
                            <br />
                            <br />
                            
                            

                        </div>
                        <button type="submit" id="resourceButton" class="btn btn-primary btn-lg btn-block">Save Resource</button>
                    </form>
                    <%
                }
                
                %>

            </section>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
</div>