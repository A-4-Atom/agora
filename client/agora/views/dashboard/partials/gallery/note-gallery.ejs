<!DOCTYPE html>

<html>
  <head>
    <script src="../../../../public/js/dashboard"></script>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
    <%- include('../../../partials/head.ejs'); %>
  </head>
  <body>
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">New message</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form>
              <div class="form-group">
                <label for="recipient-name" class="col-form-label ">Name</label>
                <input type="text" class="form-control card-name" id="recipient-name" >
              </div>
              <div class="form-group">
                <label for="message-text" class="col-form-label">Desc:</label>
                <textarea class="form-control card-desc" id="message-text"></textarea>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Send message</button>
          </div>
        </div>
      </div>
    </div>
    <% //name:string, description:string, tags:array %>
    <% const renderCard =(id,name,desc,tags,contentType) => { %>
      <div class="col mb-3 gallery-col align-items-stretch">
      <div class="card h-100"  data-toggle="modal" data-target="#exampleModal" data-whatever="<%= availableResources[id].resourceName %> " data-desc ='<%= availableResources[id].resourceDescription %>'>
        <img src="/assets/img/logos/more-options.png" alt="More options" class=" btn-more-options" id="option-<%= id %>" />
        <div class="card-body d-flex flex-column">
          <h5 class="card-title"><%= name%></h5>
          <p class="card-text mb-4" > <%= desc%></p>    
        </div>
        <div class="card-footer">
          <% for(let i = 0; i <tags.length; i++) { %>
            <span class="badge badge-primary topic-badge"><%= tags[i]%></span>
            <% } %>  
          <span class="badge badge-dark note-badge"><%= contentType %> </span>
            </div>
      </div>
      </div>
      <% } %>
    
    <h1 class="text-secondary pt-3">My Notes</h1>
    <hr>
    <div class="container">
      <% for (let i =0; i <availableResources.length;  i ++ ) { 
        if(i === 0){
       %>
       <div class="row ">
    <%  renderCard(i,availableResources[i].resourceName,"helo my jean pier polnareff helo my jean pier polnareff helo my jean pier polnareff helo my jean pier polnareff, mangos are super chill snacks",["Bio","Chem"],"Note") %>
 
        <% }else if(i % 3 === 0) {%>
          </div>
          <div class="row ">
            <%  renderCard(i,availableResources[i].resourceName,availableResources[i].resourceDescription,["Bio","Chem"],"Note") %>


            <% }else{ %>
              <%  renderCard(i,availableResources[i].resourceName,availableResources[i].resourceDescription,["Bio","Chem"],"Note") %>
       <% }}%>
          </div>

  </body>
  <%- include('../../../partials/jsincludes.ejs'); %>

 
</html>